<div class="container-fluid p-0 m-0 vh-100">
    <!-- Header -->
    <header class="bg-dark text-white py-2 sticky-sm-top">
        <div class="d-flex justify-content-between align-items-center px-3 m-0">
            <img src="/images/logo-minus-2.png" alt="Logo" class="logo-header">
            <div> Welcome  {{ userName }}</div>
            <div class="d-flex align-items-center">
                <!-- Ícono Carrito -->
                <div id="cart-icon" class="position-relative me-3" >
                    <svg fill="#ffffff" height="38px" width="38px" version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 472.615 472.615">
                        <g>
                            <polygon points="454.452,229.524 432.159,291.15 74.389,291.15 74.389,23.975 0,23.975 0,43.289 55.074,43.289 55.074,310.463 445.701,310.463 472.615,236.098"></polygon>
                        </g>
                        <circle cx="329.511" cy="398.454" r="50.186"></circle>
                        <circle cx="142.513" cy="398.454" r="50.186"></circle>
                    </svg>
                    <a href="#" routerLink="/cart" ><span id="cart-count" class="cart-count-custom-header">{{ cartCount }}</span></a>
                </div >
                <a href="#" (click)="logout()">
                  <!-- Ícono Logout -->
                  <svg width="35px" height="35px" viewBox="-3.2 -3.2 22.40 22.40" xmlns="http://www.w3.org/2000/svg" fill="#FFFFFF" stroke="#FFFFFF" stroke-width="0.00016">
                      <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                      <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                      <g id="SVGRepo_iconCarrier">
                          <g fill="#FFFFFF">
                              <path d="m 13 5 v 0.003906 c 0.265625 0 0.519531 0.105469 0.707031 0.289063 l 2 2 c 0.390625 0.390625 0.390625 1.023437 0 1.414062 l -2 2 c -0.1875 0.183594 -0.441406 0.289063 -0.707031 0.285157 v 0.007812 h -1 v -2 h -5 c -0.550781 0 -1 -0.449219 -1 -1 s 0.449219 -1 1 -1 h 5 v -2 z m 0 0"></path>
                              <path d="m 9.179688 1.097656 c -2.394532 -0.40625 -4.910157 0.453125 -6.546876 2.398438 c -2.175781 2.597656 -2.175781 6.40625 0 9 c 2.179688 2.597656 5.929688 3.257812 8.863282 1.5625 c 0.230468 -0.132813 0.398437 -0.351563 0.46875 -0.605469 c 0.066406 -0.257813 0.03125 -0.53125 -0.101563 -0.761719 c -0.277343 -0.476562 -0.886719 -0.640625 -1.367187 -0.363281 c -2.105469 1.214844 -4.765625 0.75 -6.328125 -1.117187 c -1.5625 -1.863282 -1.5625 -4.5625 0 -6.429688 c 1.5625 -1.863281 4.222656 -2.332031 6.328125 -1.113281 c 0.480468 0.273437 1.089844 0.113281 1.367187 -0.367188 c 0.132813 -0.226562 0.167969 -0.5 0.101563 -0.757812 c -0.070313 -0.257813 -0.238282 -0.476563 -0.46875 -0.609375 c -0.730469 -0.421875 -1.515625 -0.699219 -2.316406 -0.835938 z m 0 0"></path>
                          </g>
                      </g>
                  </svg>
                </a>
            </div>
        </div>
    </header>
  
    <!-- Contenedor de la Grid -->
    <div class="d-grid" id="aside-div" >
        <!-- Aside -->
        
            <!-- Aside -->
            <aside class="bg-light border-end w-75">..
                <!-- Botón Menú Hamburguesa -->
                <button class="btn btn-light d-md-none mt-3" type="button" data-bs-toggle="collapse" data-bs-target="#asideMenu" aria-expanded="false" aria-controls="asideMenu">
                    <svg width="30" height="30" fill="currentColor" class="bi bi-list">
                        <path fill-rule="evenodd" d="M3.5 12.5a.5.5 0 0 1 .5-.5H13a.5.5 0 0 1 0 1H4a.5.5 0 0 1-.5-.5zm0-5a.5.5 0 0 1 .5-.5H13a.5.5 0 0 1 0 1H4a.5.5 0 0 1-.5-.5zm0-5a.5.5 0 0 1 .5-.5H13a.5.5 0 0 1 0 1H4a.5.5 0 0 1-.5-.5z"/>
                    </svg>
                </button>
                <!-- Menú Items -->
                <div id="asideMenu" class="collapse d-md-block">
                    <div class="d-flex flex-column py-4 px-3 mt-4 ">
                        <a href="#" routerLink="" class="d-flex align-items-center text-decoration-none text-dark py-3 mb-2">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-house-fill me-3" viewBox="0 0 16 16">
                                <path d="M8.707 1.5a1 1 0 0 0-1.414 0L.646 8.146a.5.5 0 0 0 .708.708L8 2.207l6.646 6.647a.5.5 0 0 0 .708-.708L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293z"/>
                                <path d="m8 3.293 6 6V13.5a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 13.5V9.293z"/>
                            </svg>
                           <span >Home</span> 
                        </a>
                        <a href="#" routerLink="/sales_history"  class="d-flex align-items-center text-decoration-none text-dark py-3 mb-2">
                            <svg version="1.1" id="_x32_" class="me-2" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="25px" height="25px" viewBox="0 0 512 512" xml:space="preserve" fill="#000000">
                                <path d="M429.75,56.692c-5.641-4-12.891-5.031-19.422-2.734l-242.875,85c-30.625-1.453-51.484-9.844-65.859-19.203 c-4.328-2.813-5.266-4.469-5.266-4.469c-2.594-2.594-3.594-6.188-2.859-9.891c0.75-3.703,3.391-6.734,6.953-7.984l217.359-76.063 c3.266-1.156,6.891-0.641,9.703,1.359c0.25,0.188,0.469,0.438,0.703,0.625l15.906-5.75c-0.984-5.453-3.938-10.391-8.547-13.641 c-5.641-4.016-12.891-5.031-19.422-2.75l-228.578,80c-8.563,3-14.297,11.094-14.297,20.156v5.578v352.312 c0,0,15.063,49,94.203,52.766l242.688-84.938c17.125-6,28.609-22.171,28.609-40.328V74.114 C438.75,67.192,435.391,60.692,429.75,56.692z"></path>
                            </svg>
                            Sales History
                        </a>
                        <a href="#" routerLink="/workbench" class="d-flex align-items-center text-decoration-none text-dark py-3 mb-2">
                          <svg fill="#000000" height="30px" width="30px" class="me-2" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" 
                          xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 297 297" xml:space="preserve"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <g> <path d="M51.65,104.728H245.35c3.354,0,6.083-2.728,6.083-6.082V69.988c0-3.354-2.729-6.082-6.083-6.082H51.65 c-3.354,0-6.083,2.728-6.083,6.082v28.658C45.567,102,48.296,104.728,51.65,104.728z"></path> <path d="M290.918,156.645h-25.034l8.207,20.386h16.827c3.354,0,6.082-2.728,6.082-6.082v-8.221 C297,159.374,294.272,156.645,290.918,156.645z"></path> <polygon points="83.089,156.645 74.882,177.031 222.118,177.031 213.911,156.645 "></polygon> <path d="M78.187,122.157c-1.39-2.058-3.61-3.238-6.093-3.238h-5.526c-3.016,0-5.694,1.809-6.821,4.608l-40.046,99.469 c-0.928,2.303-0.662,4.804,0.728,6.862c1.39,2.057,3.61,3.237,6.093,3.237h5.526c3.017,0,5.694-1.809,6.821-4.607l40.046-99.47 C79.842,126.714,79.577,124.214,78.187,122.157z"></path> <path d="M31.116,156.645H6.082c-3.354,0-6.082,2.729-6.082,6.083v8.221c0,3.354,2.728,6.082,6.082,6.082h16.827L31.116,156.645z"></path> <path d="M237.253,123.526c-1.127-2.798-3.805-4.607-6.821-4.607h-5.526c-2.483,0-4.703,1.18-6.093,3.238 c-1.39,2.057-1.655,4.557-0.728,6.861l40.046,99.471c1.127,2.797,3.804,4.606,6.821,4.606h5.526c2.483,0,4.703-1.18,6.093-3.237 c1.39-2.058,1.655-4.558,0.728-6.862L237.253,123.526z">
  
                          </path> </g> </g></svg>
                            WorkBench
                        </a>
  
                        <a *ngIf="isAdmin()" href="#" routerLink="/stock" class="d-flex align-items-center text-decoration-none text-dark py-3 mb-2">
                            <svg width="35px" height="35px" class="me-2" viewBox="0 0 512 512" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <title>barchart</title> <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <g id="add" fill="#000000" transform="translate(42.666667, 85.333333)"> <path d="M21.3333333,1.42108547e-14 L85.3333333,1.42108547e-14 L85.3333333,277.333333 L21.3333333,277.333333 L21.3333333,1.42108547e-14 Z M128,128 L192,128 L192,277.333333 L128,277.333333 L128,128 Z M341.333333,85.3333333 L405.333333,85.3333333 L405.333333,277.333333 L341.333333,277.333333 L341.333333,85.3333333 Z M234.666667,42.6666667 L298.666667,42.6666667 L298.666667,277.333333 L234.666667,277.333333 L234.666667,42.6666667 Z M3.55271368e-14,298.666667 L426.666667,298.666667 L426.666667,341.333333 L3.55271368e-14,341.333333 L3.55271368e-14,298.666667 Z"
                                 id="Combined-Shape"> </path> </g> </g> </g></svg>
                            Stock
                        </a>
  
                    </div>
                </div>
            </aside>

            <div class="checkout-container w-75 mt-5">

                <h4 class="text-center mt-3 mb-4  "> 
                    {{ calculateTotal() > 0 ? 'Pay by Card: €' + (calculateTotal() | number:'1.2-2') : 'No items to pay' }}</h4>

                <!-- Inputs -->
                <div class="mb-3 mt-5 ">
                    <label for="email" class="form-label">Email address</label>
                    <input type="email" class="form-control" id="email" placeholder="name@example.com">
                  </div>

                  <div class="mb-4 ">
                    <label for="cardName" class="form-label">Name in Card</label>
                    <input type="text" class="form-control" id="cardName" placeholder="Jhon Doe">
                  </div>
              
                <!-- Input de Stripe -->
                <div id="card-element" class="mb-2 mt-1 " ></div>
              
                <!-- Botón de pago -->
                 <div class="row d-flex justify-content-between align-items-center ">
                    <div class="col-5">
                        <button 
                        
                        class="btn btn-danger mt-3"
                      >
                        Cancel 
                      </button>

                    </div>

                    <div class="col-5">

                        <button 
                        (click)="processPayment()" 
                        [disabled]="isProcessing" 
                        class="btn btn-success mt-3"
                      >
                        {{ isProcessing ? 'Processing...' : 'Pay' }}
                      </button>
                        
                    </div>
                 </div>

               
                <!-- Mensaje de error -->
                <div *ngIf="errorMessage" class="text-danger mt-3">
                  {{ errorMessage }}
                </div>
              </div>
              
       
        
  
        
        
        
    </div>
  </div>
  
